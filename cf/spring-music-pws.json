{
  "version": "0.1.0",
  "title": "Blocking spring-music makes it unreachable.",
  "description": "This is a testing experiment to verify the script's block traffic function works.",
  "tags": ["cloudfoundry", "bosh", "springboot"],
  "configuration": {
    "cf_api_url": "https://api.run.pivotal.io",
    "cf_verify_ssl": true
  },
  "secrets": {
    "cloudfoundry": {
      "cf_username": "username",
      "cf_password": "***********"
    }
  },
  "steady-state-hypothesis": {
    "title": "We can access the application and other neighboring applications (This should fail because we block all traffic)",
    "probes": [
      {
        "type": "probe",
        "name": "spring-music-responds",
        "tolerance": 200,
        "provider": {
          "type": "http",
          "url": "https://spring-music-responsible-lemur-uh.cfapps.io/"
        }
      },
      {
        "type": "probe",
        "name": "spring-music2-responds",
        "tolerance": 200,
        "provider": {
          "type": "http",
          "url": "https://www.google.com/"
        }
      }
    ]
  },
  "method": [
    {
      "type": "action",
      "name": "terminate-random-instance",
      "provider": {
        "module": "chaoscf.actions",
        "arguments": {
          "app_name": "spring-music"
        },
        "type": "python",
        "secrets": ["cloudfoundry"],
        "func": "terminate_some_random_instance"
      },
      "pauses": {
        "after": 10
      }
    }
  ],
  "rollbacks": [
  ]
}
